
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Countdown Poster</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes swim {
        0% {
          transform: translateX(100vw) translateY(var(--translate-y)) scale(var(--scale));
        }
        100% {
          transform: translateX(-20vw) translateY(var(--translate-y)) scale(var(--scale));
        }
      }
      .animate-swim {
        animation: swim linear infinite;
      }
      body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
    </style>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-[#f6f3e8]">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, StrictMode } = React;

        const Fish = ({ style }) => (
            <svg 
                viewBox="0 0 100 50" 
                className="absolute top-0 left-0 w-20 h-10 animate-swim" 
                style={style}
            >
                <path 
                    d="M99.4,24.3c0,0-15.4-12.1-34.9-12.1c-13.4,0-23.3,4.2-29.1,8.3C29.6,24.7,19,29.3,0,24.3c0,0,13,10.1,34.2,10.1c11,0,20.4-2.8,26.4-6.4C69.3,23.3,86.2,24.3,99.4,24.3z" 
                    fill={style.fill}
                />
            </svg>
        );

        const FishSwarm = () => {
            const fishCount = 40;

            return (
                <div className="absolute inset-0 z-0">
                    {Array.from({ length: fishCount }).map((_, i) => {
                        const duration = Math.random() * 15 + 10;
                        const delay = Math.random() * -25;
                        const top = Math.random() * 100;
                        const scale = Math.random() * 0.5 + 0.4;
                        const color = Math.random() > 0.3 ? '#e45c4a' : '#f4c0b5';
                        const opacity = Math.random() * 0.5 + 0.3;

                        const style = {
                            top: `${top}%`,
                            animationDuration: `${duration}s`,
                            animationDelay: `${delay}s`,
                            '--scale': scale,
                            '--translate-y': `${Math.random() * 10 - 5}vh`,
                            fill: color,
                            opacity: opacity,
                        };

                        return <Fish key={i} style={style} />;
                    })}
                </div>
            );
        };

        const CountdownCalendar = ({ title, targetDate }) => {
            const calculateTimeRemaining = () => {
                const now = new Date();
                const diffTime = targetDate.getTime() - now.getTime();

                if (diffTime <= 0) {
                    return { days: 0, hours: 0, minutes: 0, seconds: 0, isOver: true };
                }

                const days = Math.floor(diffTime / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diffTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diffTime % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diffTime % (1000 * 60)) / 1000);

                return { days, hours, minutes, seconds, isOver: false };
            };

            const [timeRemaining, setTimeRemaining] = useState(calculateTimeRemaining);

            useEffect(() => {
                if (timeRemaining.isOver) return;

                const timer = setInterval(() => {
                    setTimeRemaining(calculateTimeRemaining());
                }, 1000);

                return () => clearInterval(timer);
            }, [targetDate, timeRemaining.isOver]);
            
            const formatNumber = (num) => num.toString().padStart(2, '0');

            return (
                <div className="w-40 h-56 sm:w-48 sm:h-60 bg-white rounded-2xl shadow-lg border-2 border-orange-200 flex flex-col p-1.5">
                    <div className="bg-[#a6c1a2] rounded-t-lg text-white font-bold text-center py-1.5 text-xs sm:text-sm flex items-center justify-around px-2">
                        <div className="w-1.5 h-4 bg-white/50 rounded-sm"></div>
                        <div className="w-1.5 h-4 bg-white/50 rounded-sm"></div>
                        <span>{title}</span>
                        <div className="w-1.5 h-4 bg-white/50 rounded-sm"></div>
                        <div className="w-1.5 h-4 bg-white/50 rounded-sm"></div>
                    </div>
                    <div className="flex-grow flex flex-col items-center justify-center bg-white rounded-b-lg border-t-4 border-orange-300 px-2 py-3">
                        <span 
                            className="text-7xl sm:text-8xl font-bold text-[#85a782]" 
                            style={{ textShadow: '3px 3px 0 #fef9e7' }}
                        >
                            {timeRemaining.days}
                        </span>
                         <span className="text-sm text-gray-500 -mt-2 mb-1">天</span>
                        <div className="flex items-baseline justify-center space-x-1 text-gray-700 font-mono text-lg sm:text-xl">
                            <span>{formatNumber(timeRemaining.hours)}</span>
                            <span className="text-gray-500">:</span>
                            <span>{formatNumber(timeRemaining.minutes)}</span>
                            <span className="text-gray-500">:</span>
                            <span>{formatNumber(timeRemaining.seconds)}</span>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const currentYear = new Date().getFullYear();
            const targetDate1 = new Date(`${currentYear}-11-17T00:00:00`);
            const targetDate2 = new Date(`${currentYear}-11-24T00:00:00`);

            return (
                <div className="relative min-h-screen w-full bg-[#f6f3e8] overflow-hidden flex items-center justify-center font-sans">
                    <div className="absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-[#dde7d9] to-transparent opacity-70"></div>
                    <div className="absolute bottom-0 right-0 w-2/3 h-2/3 bg-gradient-to-t from-[#dde7d9] to-transparent opacity-50 rounded-full blur-3xl"></div>
                    
                    <FishSwarm />

                    <main className="relative z-10 p-4 sm:p-8 w-full max-w-2xl mx-auto flex flex-col justify-between h-full min-h-screen">
                        <div className="flex justify-between items-start pt-16 sm:pt-24">
                            <div className="flex flex-col text-6xl sm:text-8xl font-black text-gray-800 tracking-widest space-y-4" style={{ writingMode: 'vertical-rl', textOrientation: 'upright' }}>
                                <span>一</span>
                                <span>月</span>
                                <span>开</span>
                                <span>讲</span>
                            </div>
                            <div className="relative mt-12 sm:mt-24">
                                <div 
                                   className="flex flex-col items-center justify-center bg-[#a6c1a2] text-white px-2 py-8 rounded-lg shadow-md"
                                   style={{
                                       clipPath: 'polygon(0 5%, 100% 0, 100% 95%, 0% 100%)'
                                   }}
                                >
                                   <div className="border border-white/50 rounded-full w-4 h-4 mb-4"></div>
                                   <span className="text-2xl sm:text-3xl" style={{ writingMode: 'vertical-rl', textOrientation: 'upright' }}>43年</span>
                                </div>
                            </div>
                        </div>

                        <div className="pb-8 sm:pb-16 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-8 w-full">
                            <CountdownCalendar title="SW慢班 11.17" targetDate={targetDate1} />
                            <CountdownCalendar title="SW快班 11.24" targetDate={targetDate2} />
                        </div>
                    </main>
                </div>
            );
        };
        
        const rootElement = document.getElementById('root');
        const root = ReactDOM.createRoot(rootElement);
        root.render(
          <StrictMode>
            <App />
          </StrictMode>
        );
    </script>
</body>
</html>